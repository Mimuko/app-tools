# 実装依頼 生成ツール（PoC）

実装依頼内容を自動生成するツールです。ディレクターが実装依頼を出す際に、必要情報を漏れなく入力させ、Backlog/Slackに貼れる依頼文を自動生成します。

## ⚠️ 重要な注意事項

### PoCの特性

このツールは**PoC（概念実証）**です。以下の特性があります：

- **データ保存なし**: 入力内容は一切保存されません（localStorage/sessionStorage/DB/analytics/loggingなし）
- **認証なし**: 認証機能はありません
- **ログなし**: ログは一切記録されません
- **フロントのみ**: フロントエンドのみで完結しており、APIサーバーは不要です

### 運用に関する注意事項

- **移管前提**: このツールは移管前提で開発されています。継続利用時はCRH環境に移管する前提です
- **運用責任**: 運用責任はCRH側にあります
- **個人情報**: 個人情報（メールなど）は入力欄はありますが、送信・保存は行いません
- **機密情報**: 機密情報や個人情報を入力しないことを推奨します（保存機能がないため、ブラウザを閉じると消えます）
- **未確定事項**: 生成文末尾に「※未確定事項がある場合は、ディレクター側で確定のうえ再依頼ください。」が自動挿入されます

### 機能の特徴

- **条件分岐ロジック**: 選択内容に応じてフォーム項目の表示/非表示が自動切り替わります
- **未整理の露出**: 未確定事項を強制的に「⚠ 未確定」として生成文に明示します
- **入力の強制**: 必要な情報を漏れなく入力させる仕組みになっています
- **責任所在の明確化**: 「未定」系の選択肢を選んだ場合、生成文に警告が表示されます

## 技術スタック

- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- Zod（バリデーション用）

## セットアップ

### 必要な環境

- Node.js 18以上（Volta推奨）
- npm または yarn

### インストール

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてください。

### ビルド

```bash
npm run build
npm start
```

## 使用方法

1. フォームに必要事項を入力します
2. 選択内容に応じて、表示される項目が自動的に切り替わります
3. 「生成」ボタンをクリックします
4. 右側にSlack版とBacklog版のプレビューが表示されます
5. タブでSlack版/Backlog版を切り替えられます
6. 「クリップボードへコピー」ボタンで生成テキストをコピーできます
7. 「リセット」ボタンで入力内容をすべてクリアできます

### 条件分岐について

以下の選択により、表示される項目が切り替わります：

- **デザインの役割**: `spec`（仕様確定）を選ぶと「実装優先要素」が非表示になり、「差分許容の例外項目」が表示されます
- **コンテンツ表示方針**: `dynamic_required` または `dynamic_later` を選ぶと動的化に関する項目が表示されます
- **制約の把握状況**: `unknown`（把握していない）を選ぶと「制約確認の担当/期限」が必須になります
- **実装方針**: `B`（CSS固定）または `MIX`（混在）を選ぶとCSS固定に関する項目が表示されます
- **スコープ**: `hasNext`（次フェーズあり）を選ぶと「今回Must」と「次フェーズ項目」が表示されます
- **マニュアル作成方針**: `implementer`（実装側作成）を選ぶと作成範囲・期限・スケジュール合意が必須になります

### 必須項目

表示されている項目のうち、以下の項目は必須です（未入力の場合、警告が表示されますが生成は可能です）：

- 各セクションの基本的な必須項目
- 条件分岐により表示された項目のうち、必須とマークされているもの

未入力の必須項目がある場合、セクション見出しに「⚠ 未入力あり」が表示され、生成文にも「⚠ 未確定」として明示されます。

## プロジェクト構造

```
├── app/
│   ├── layout.tsx          # ルートレイアウト
│   ├── page.tsx            # メインページ
│   └── globals.css         # グローバルスタイル
├── components/
│   ├── Form.tsx            # フォームコンポーネント（条件分岐対応）
│   ├── FormSection.tsx     # フォームセクションコンポーネント
│   └── Output.tsx          # 出力プレビューコンポーネント
├── lib/
│   ├── generateSlack.ts    # Slack版生成関数
│   ├── generateBacklog.ts  # Backlog版生成関数
│   ├── validation.ts       # バリデーション関数
│   └── visibility.ts       # 可視性制御ロジック
├── types/
│   └── form.ts             # 型定義
└── README.md
```

## ライセンス

このプロジェクトはPoCのため、ライセンスは未定です。
